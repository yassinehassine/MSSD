<div class="auth-page">
  <div class="auth-card">
    <div class="auth-header">
      <img src="assets/img/logo1.png" alt="MSSD" class="auth-logo">
      <h2>Créer un compte</h2>
      <p>Inscrivez-vous pour accéder à l'administration</p>
    </div>

    <form class="auth-form" (ngSubmit)="onSubmit()" #registerForm="ngForm">
      <div *ngIf="errorMessage" class="auth-alert auth-alert-error">
        <i class="bi bi-exclamation-circle"></i> {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="auth-alert auth-alert-success">
        <i class="bi bi-check-circle"></i> {{ successMessage }}
      </div>

      <div class="form-group">
        <label for="inputUsername">Nom d'utilisateur</label>
        <div class="input-icon">
          <i class="bi bi-person"></i>
          <input id="inputUsername" type="text" placeholder="Votre nom d'utilisateur"
                 [(ngModel)]="registerData.username" name="username" required>
        </div>
      </div>

      <div class="form-group">
        <label for="inputEmail">Adresse email</label>
        <div class="input-icon">
          <i class="bi bi-envelope"></i>
          <input id="inputEmail" type="email" placeholder="nom@exemple.com"
                 [(ngModel)]="registerData.email" name="email" required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="inputPassword">Mot de passe</label>
          <div class="input-icon">
            <i class="bi bi-lock"></i>
            <input id="inputPassword" type="password" placeholder="Créer un mot de passe"
                   [(ngModel)]="registerData.password" name="password" required>
          </div>
        </div>
        <div class="form-group">
          <label for="inputConfirm">Confirmer</label>
          <div class="input-icon">
            <i class="bi bi-lock-fill"></i>
            <input id="inputConfirm" type="password" placeholder="Confirmer"
                   [(ngModel)]="registerData.confirmPassword" name="confirmPassword" required>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="inputRole">Rôle</label>
        <div class="input-icon">
          <i class="bi bi-shield-lock"></i>
          <select id="inputRole" [(ngModel)]="registerData.role" name="role" required>
            <option value="ADMIN">Administrateur</option>
            <option value="USER">Utilisateur</option>
          </select>
        </div>
      </div>

      <button type="submit" class="btn-auth-block" [disabled]="isLoading || !registerForm.valid">
        <span *ngIf="isLoading" class="spinner-sm"></span>
        {{ isLoading ? 'Création...' : 'Créer le compte' }}
      </button>
    </form>

    <div class="auth-footer">
      <span>Déjà un compte ?</span>
      <a routerLink="/admin/login">Se connecter</a>
    </div>
  </div>
</div>
